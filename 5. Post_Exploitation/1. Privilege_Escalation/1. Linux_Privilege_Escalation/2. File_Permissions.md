<h1 align="center"> File System Permissions </h1>


## What is Linux File System Permissions?
Think of Linux file permissions like keys to rooms in a building:
- `Files` = Documents in rooms.
- `Directories`: Rooms themselves.
- `Permissions`:  Keys to open, read, or modify.


## The 3 Types of people:
1. `Ower` : The person who owns the file (you)
2. `Group`: A team that access.
3. `Others`: Everyone else in the building.


## How to see Permission
````
ls -l
````
<img width="652" height="211" alt="image" src="https://github.com/user-attachments/assets/a5fbf8b3-42ca-4102-9afc-58f975a78692" />


### Breaking Down th eoutput:
````
-rw-r--r-- 1 john developers 120 Jan 15 10:30 myfile.txt
|||||||||  |  |    |          |  |           |
|||||||||  |  |    |          |  |           File Name
|||||||||  |  |    |          |  Date & Time
|||||||||  |  |    |          File Size (bytes)
|||||||||  |  |    Group Name
|||||||||  |  Owner Name
|||||||||  Number of Links
|||||||||
Permission String
````



### Understanding the Permission String
The permission string has 10 characters: -rwxr-xr-x
````
Position: 1   2 3 4   5 6 7   8 9 10
Example:  -   r w x   r - x   r - x
          |   | | |   | | |   | | |
          |   | | |   | | |   | | Others Execute
          |   | | |   | | |   | Others Read
          |   | | |   | | |   Others Write? (No, it's '-')
          |   | | |   | | Group Execute
          |   | | |   | Group Read
          |   | | |   Group Write? (No, it's '-')
          |   | | Owner Execute
          |   | Owner Write
          |   Owner Read
          File Type
````


### File Types (First Character):
- `-`: Regular file (document, program, text file)
- `d`: Directory (folder)
- `l`: Symbolic link (shortcut)
- `c`: Character device (like keyboard)
- `b`: Block device (like hard drive)

### Permission Letters:
- `r`: Read permission
- `w`: Write permission
- `x`: Execute permission
- `-`: No permission



## Permissions:
### For File:
| Permission      | Meaning / What It Allows              |
| --------------- | ------------------------------------- |
| **Read (r)**    | Open and read the fileâ€™s content      |
| **Write (w)**   | Modify, delete, or overwrite the file |
| **Execute (x)** | Run the file as a program or script   |


### For Directory
| Permission      | Meaning / What It Allows                                   |
| --------------- | ---------------------------------------------------------- |
| **Read (r)**    | List files inside the directory (`ls`)                     |
| **Write (w)**   | Create, delete, or rename files in the directory           |
| **Execute (x)** | Enter/access the directory (`cd`), and access files inside |




## Number System (Octal) - The Easy Way:
### Permission value:
| Permission      | Value | Meaning                                                  |
| --------------- | ----- | -------------------------------------------------------- |
| **Read (r)**    | **4** | Allows reading/viewing                                   |
| **Write (w)**   | **2** | Allows editing, deleting, or adding                      |
| **Execute (x)** | **1** | Allows running (for files) or entering (for directories) |



### How to calculate:
- Add the numbers for permissions you want
- Do this for Owner, Group, and Others separately

#### Example 1:
- rwxr-xr-x becomes:
  - Owner: rwx = 4+2+1 = 7
  - Group: r-x = 4+0+1 = 5
  - Others: r-x = 4+0+1 = 5
  - Result: 755

#### Exapmle 2:
- rw-r----- becomes:
  - Owner: rw- = 4+2+0 = 6
  - Group: r-- = 4+0+0 = 4
  - Others: --- = 0+0+0 = 0
  - Result: 640


#### Common Permission Numbers:
- 777 = rwxrwxrwx (Everyone can do everything)
- 755 = rwxr-xr-x (Owner full, others read/execute)
- 644 = rw-r--r-- (Owner read/write, others read only)
- 600 = rw------- (Only owner can read/write)


#### Complete permissions table:
| Numeric | Symbolic | Meaning                |
| ------- | -------- | ---------------------- |
| **0**   | `---`    | No access              |
| **1**   | `--x`    | Execute only           |
| **2**   | `-w-`    | Write only             |
| **3**   | `-wx`    | Write + Execute        |
| **4**   | `r--`    | Read only              |
| **5**   | `r-x`    | Read + Execute         |
| **6**   | `rw-`    | Read + Write           |
| **7**   | `rwx`    | Read + Write + Execute |


---






# Linux File system Permissions:

## MAN Pages:

- The command **man**: short for `manual page` is used for accessing local documentation of common linux commands.
````
man ls
````
<img width="804" height="130" alt="image" src="https://github.com/user-attachments/assets/cbd9a7bf-fad6-4c33-9452-248c84b1aff1" />

- In this it required me to use `unminimize` and in this we need to run it as `Root`:
<img width="750" height="338" alt="image" src="https://github.com/user-attachments/assets/9e7a327c-b85d-4ea8-a0e7-9bd07714f3d3" />

- And then i type `y`:
<img width="931" height="676" alt="image" src="https://github.com/user-attachments/assets/4dcf2de2-b48b-4d46-b42f-aa587db9d21d" />

- And then i type `y` to continue, and wait a few minutes it will finished install:
<img width="936" height="658" alt="image" src="https://github.com/user-attachments/assets/05a7a166-ac74-4170-8983-ae7d53a7df3a" />

<img width="1249" height="679" alt="image" src="https://github.com/user-attachments/assets/eb45d5e1-576b-4680-a711-870ed94071a0" />

- Now it finished download.

- After i install man-db:
````
apt update
apt install man-db
````
<img width="1023" height="821" alt="image" src="https://github.com/user-attachments/assets/ccf0f89a-1390-41fa-b7b8-dd6481756700" />


- After i type `man ls`:
````
man ls
````
<img width="308" height="108" alt="image" src="https://github.com/user-attachments/assets/07862260-8cc9-445a-89b5-a65927d7f52c" />

<img width="1897" height="833" alt="image" src="https://github.com/user-attachments/assets/1e5b71c9-c46f-4828-acdc-f1926b2d9f41" />


````
man ps
````
<img width="351" height="149" alt="image" src="https://github.com/user-attachments/assets/f83641b5-66a8-4532-b2d1-eac5fb213723" />

<img width="1881" height="831" alt="image" src="https://github.com/user-attachments/assets/1eb48d76-454a-47e0-8a2a-7e3b478481a0" />


````
man df
````
<img width="330" height="86" alt="image" src="https://github.com/user-attachments/assets/cbae6438-7245-49e4-88dc-5b9dc5fd9091" />

<img width="1900" height="837" alt="image" src="https://github.com/user-attachments/assets/55b46ce1-7ba3-4c66-8572-f4b1524a654b" />

````
man du
````
<img width="307" height="95" alt="image" src="https://github.com/user-attachments/assets/ceca6a56-9e4d-4763-b2e4-21ceae83695b" />

<img width="1900" height="836" alt="image" src="https://github.com/user-attachments/assets/ebbf04e9-3673-4cc6-98aa-4db85fd9e7b3" />


- `man`: Used to display the `manual pages (manages)` for commands, system calls, configuration files, and other part of the system. 
- IT used for:
  - `Documentation`: Shows details information about commands, options, and usage.
  - `Reference`: Explains syntax, flags, and examples.
  - `Learning`: Helps you understand show tools work without needing external docs.

---


## File System Permissions 
- Suppose we list out the files in given directory with `ls`.
````
ls -lha
````
<img width="643" height="323" alt="image" src="https://github.com/user-attachments/assets/f5a29e33-70d5-4444-a3d8-46878fbd67d6" />

- For each file we have the following information reguarding permissions.
  - File permissions (`drwxr-xr-x`)
  - User that owns the file (`lowpriv`)
  - Group that owns the file (`usrs`)
 
Within each string of the form. 


- We find 10 letters, which can be eiher set or not set:
- The first specifies the `type of the file`.
  - Regular files -> `-`
  - Directories -> `d`
  - Links -> `l`
 
````
ls -lh
````
<img width="625" height="201" alt="image" src="https://github.com/user-attachments/assets/d3ceb534-e097-4d1c-b715-c411f28527c0" />


- Then we find three groups of three letter each.
  - These specific thw permissions for three type of uses:
    - The first group specifies the permissions for the user who is also the owner of the file.
    - The second group specifies the permissions for the user who belongs to the group that owns the file.
    - The third group specifies the permissions for all other uses. That is, for users who do not belong in the group that own the file and are not the owner of the file themselve.
   
- Each group works in the same way.
  - We have three distinct types of permissions:
    - Read prmissions (`r`)
    - Write permission (`w`)
    - Execute permission (`x`)
 
- There are minor variants in this. For example, when setting the  `SUID` bit on an executable, the execute permission will be written as `s` insteadd of `x`.


<img width="635" height="353" alt="image" src="https://github.com/user-attachments/assets/508f3e1e-c6d7-42c4-a161-17479c15c0ce" />

- The user who owns file1.txt is `lowpriv`
- The group who owns file1.txt is `lowpriv`

- For the `lowpriv` user the following permissions apply:
  - read `r`
  - write (w)
  - execute (x)

- For group `powpriv` the following permissions apply:
  - read `r`
  - execute `x`
 
- For every users the following permissions apply:
  - read `r`
  - execute `x`
- Cause in this i used with user is the same.

---




## Read file:

<img width="657" height="329" alt="image" src="https://github.com/user-attachments/assets/139e4017-6802-4a0a-865f-8ce053babb1b" />


### We can analyze the output line by line:
#### The first line is referring to the current directory `.`:
  - It is a directory `d`.
  - The user `lowpriv` can read `r`, write `w`, and execute `x` on the directory.
  - Users belonging to the group `lowprive` can read `r` and xecute `x` but no write.
  - Any other user can read `r` and execute `x` but no write.

#### The second line is referring to the previous directory `..`:
  It is saying that:
  - It is a directory `d`
  - The user `root` can read `r`, write `w`, and execute `x` on the directory.
  - Users belonging to the group `root` can read `r`, write `w`, and execute `x` on the directory.
  - Any other users can read `r`, write `w` and execute `x` on the directory

#### The last line is referring to the resource `test.txt`:
- It is saying that:
  - It it a regular file `-`
  - The user `lowpriv` can read `r`, but not execute `x` the file.
  - Users belonging to the group `lowpriv` can only read `r` the file.
  - Any other users can also read `r` the file.
 

### **Special Cases**:
- Sometime it can happen to see for the last position the value of `t` instead of the value of `x`. This is called the `sticky bit`. It permission  
 





































