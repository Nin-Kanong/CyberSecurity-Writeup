<h1 align="center"> File System Permissions </h1>


## What is Linux File System Permissions?
Think of Linux file permissions like keys to rooms in a building:
- `Files` = Documents in rooms.
- `Directories`: Rooms themselves.
- `Permissions`:  Keys to open, read, or modify.


## The 3 Types of people:
1. `Ower` : The person who owns the file (you)
2. `Group`: A team that access.
3. `Others`: Everyone else in the building.


## How to see Permission
````
ls -l
````
<img width="652" height="211" alt="image" src="https://github.com/user-attachments/assets/a5fbf8b3-42ca-4102-9afc-58f975a78692" />


### Breaking Down th eoutput:
````
-rw-r--r-- 1 john developers 120 Jan 15 10:30 myfile.txt
|||||||||  |  |    |          |  |           |
|||||||||  |  |    |          |  |           File Name
|||||||||  |  |    |          |  Date & Time
|||||||||  |  |    |          File Size (bytes)
|||||||||  |  |    Group Name
|||||||||  |  Owner Name
|||||||||  Number of Links
|||||||||
Permission String
````



### Understanding the Permission String
The permission string has 10 characters: -rwxr-xr-x
````
Position: 1   2 3 4   5 6 7   8 9 10
Example:  -   r w x   r - x   r - x
          |   | | |   | | |   | | |
          |   | | |   | | |   | | Others Execute
          |   | | |   | | |   | Others Read
          |   | | |   | | |   Others Write? (No, it's '-')
          |   | | |   | | Group Execute
          |   | | |   | Group Read
          |   | | |   Group Write? (No, it's '-')
          |   | | Owner Execute
          |   | Owner Write
          |   Owner Read
          File Type
````


### File Types (First Character):
- `-`: Regular file (document, program, text file)
- `d`: Directory (folder)
- `l`: Symbolic link (shortcut)
- `c`: Character device (like keyboard)
- `b`: Block device (like hard drive)

### Permission Letters:
- `r`: Read permission
- `w`: Write permission
- `x`: Execute permission
- `-`: No permission



## Permissions:
### For File:
| Permission      | Meaning / What It Allows              |
| --------------- | ------------------------------------- |
| **Read (r)**    | Open and read the file’s content      |
| **Write (w)**   | Modify, delete, or overwrite the file |
| **Execute (x)** | Run the file as a program or script   |


### For Directory
| Permission      | Meaning / What It Allows                                   |
| --------------- | ---------------------------------------------------------- |
| **Read (r)**    | List files inside the directory (`ls`)                     |
| **Write (w)**   | Create, delete, or rename files in the directory           |
| **Execute (x)** | Enter/access the directory (`cd`), and access files inside |




## Number System (Octal) - The Easy Way:
### Permission value:
| Permission      | Value | Meaning                                                  |
| --------------- | ----- | -------------------------------------------------------- |
| **Read (r)**    | **4** | Allows reading/viewing                                   |
| **Write (w)**   | **2** | Allows editing, deleting, or adding                      |
| **Execute (x)** | **1** | Allows running (for files) or entering (for directories) |



### How to calculate:
- Add the numbers for permissions you want
- Do this for Owner, Group, and Others separately

#### Example 1:
- rwxr-xr-x becomes:
  - Owner: rwx = 4+2+1 = 7
  - Group: r-x = 4+0+1 = 5
  - Others: r-x = 4+0+1 = 5
  - Result: 755

#### Exapmle 2:
- rw-r----- becomes:
  - Owner: rw- = 4+2+0 = 6
  - Group: r-- = 4+0+0 = 4
  - Others: --- = 0+0+0 = 0
  - Result: 640


#### Common Permission Numbers:
- 777 = rwxrwxrwx (Everyone can do everything)
- 755 = rwxr-xr-x (Owner full, others read/execute)
- 644 = rw-r--r-- (Owner read/write, others read only)
- 600 = rw------- (Only owner can read/write)


#### Complete permissions table:
| Numeric | Symbolic | Meaning                |
| ------- | -------- | ---------------------- |
| **0**   | `---`    | No access              |
| **1**   | `--x`    | Execute only           |
| **2**   | `-w-`    | Write only             |
| **3**   | `-wx`    | Write + Execute        |
| **4**   | `r--`    | Read only              |
| **5**   | `r-x`    | Read + Execute         |
| **6**   | `rw-`    | Read + Write           |
| **7**   | `rwx`    | Read + Write + Execute |


---






# Linux File system Permissions:

## MAN Pages:

- The command **man**: short for `manual page` is used for accessing local documentation of common linux commands.
````
man ls
````
<img width="804" height="130" alt="image" src="https://github.com/user-attachments/assets/cbd9a7bf-fad6-4c33-9452-248c84b1aff1" />

- In this it required me to use `unminimize` and in this we need to run it as `Root`:
<img width="750" height="338" alt="image" src="https://github.com/user-attachments/assets/9e7a327c-b85d-4ea8-a0e7-9bd07714f3d3" />

- And then i type `y`:
<img width="931" height="676" alt="image" src="https://github.com/user-attachments/assets/4dcf2de2-b48b-4d46-b42f-aa587db9d21d" />

- And then i type `y` to continue, and wait a few minutes it will finished install:
<img width="936" height="658" alt="image" src="https://github.com/user-attachments/assets/05a7a166-ac74-4170-8983-ae7d53a7df3a" />

<img width="1249" height="679" alt="image" src="https://github.com/user-attachments/assets/eb45d5e1-576b-4680-a711-870ed94071a0" />

- Now it finished download.

- After i install man-db:
````
apt update
apt install man-db
````
<img width="1023" height="821" alt="image" src="https://github.com/user-attachments/assets/ccf0f89a-1390-41fa-b7b8-dd6481756700" />


- After i type `man ls`:
````
man ls
````
<img width="308" height="108" alt="image" src="https://github.com/user-attachments/assets/07862260-8cc9-445a-89b5-a65927d7f52c" />

<img width="1897" height="833" alt="image" src="https://github.com/user-attachments/assets/1e5b71c9-c46f-4828-acdc-f1926b2d9f41" />


````
man ps
````
<img width="351" height="149" alt="image" src="https://github.com/user-attachments/assets/f83641b5-66a8-4532-b2d1-eac5fb213723" />

<img width="1881" height="831" alt="image" src="https://github.com/user-attachments/assets/1eb48d76-454a-47e0-8a2a-7e3b478481a0" />


````
man df
````
<img width="330" height="86" alt="image" src="https://github.com/user-attachments/assets/cbae6438-7245-49e4-88dc-5b9dc5fd9091" />

<img width="1900" height="837" alt="image" src="https://github.com/user-attachments/assets/55b46ce1-7ba3-4c66-8572-f4b1524a654b" />

````
man du
````
<img width="307" height="95" alt="image" src="https://github.com/user-attachments/assets/ceca6a56-9e4d-4763-b2e4-21ceae83695b" />

<img width="1900" height="836" alt="image" src="https://github.com/user-attachments/assets/ebbf04e9-3673-4cc6-98aa-4db85fd9e7b3" />


- `man`: Used to display the `manual pages (manages)` for commands, system calls, configuration files, and other part of the system. 
- IT used for:
  - `Documentation`: Shows details information about commands, options, and usage.
  - `Reference`: Explains syntax, flags, and examples.
  - `Learning`: Helps you understand show tools work without needing external docs.

---


## File System Permissions 
- Suppose we list out the files in given directory with `ls`.
````
ls -lha
````
<img width="643" height="323" alt="image" src="https://github.com/user-attachments/assets/f5a29e33-70d5-4444-a3d8-46878fbd67d6" />

- For each file we have the following information reguarding permissions.
  - File permissions (`drwxr-xr-x`)
  - User that owns the file (`lowpriv`)
  - Group that owns the file (`usrs`)
 
Within each string of the form. 


- We find 10 letters, which can be eiher set or not set:
- The first specifies the `type of the file`.
  - Regular files -> `-`
  - Directories -> `d`
  - Links -> `l`
 
````
ls -lh
````
<img width="625" height="201" alt="image" src="https://github.com/user-attachments/assets/d3ceb534-e097-4d1c-b715-c411f28527c0" />


- Then we find three groups of three letter each.
  - These specific thw permissions for three type of uses:
    - The first group specifies the permissions for the user who is also the owner of the file.
    - The second group specifies the permissions for the user who belongs to the group that owns the file.
    - The third group specifies the permissions for all other uses. That is, for users who do not belong in the group that own the file and are not the owner of the file themselve.
   
- Each group works in the same way.
  - We have three distinct types of permissions:
    - Read prmissions (`r`)
    - Write permission (`w`)
    - Execute permission (`x`)
 
- There are minor variants in this. For example, when setting the  `SUID` bit on an executable, the execute permission will be written as `s` insteadd of `x`.


<img width="635" height="353" alt="image" src="https://github.com/user-attachments/assets/508f3e1e-c6d7-42c4-a161-17479c15c0ce" />

- The user who owns file1.txt is `lowpriv`
- The group who owns file1.txt is `lowpriv`

- For the `lowpriv` user the following permissions apply:
  - read `r`
  - write (w)
  - execute (x)

- For group `powpriv` the following permissions apply:
  - read `r`
  - execute `x`
 
- For every users the following permissions apply:
  - read `r`
  - execute `x`
- Cause in this i used with user is the same.

---




## Read file:

<img width="657" height="329" alt="image" src="https://github.com/user-attachments/assets/139e4017-6802-4a0a-865f-8ce053babb1b" />


### We can analyze the output line by line:
#### The first line is referring to the current directory `.`:
  - It is a directory `d`.
  - The user `lowpriv` can read `r`, write `w`, and execute `x` on the directory.
  - Users belonging to the group `lowprive` can read `r` and xecute `x` but no write.
  - Any other user can read `r` and execute `x` but no write.

#### The second line is referring to the previous directory `..`:
  It is saying that:
  - It is a directory `d`
  - The user `root` can read `r`, write `w`, and execute `x` on the directory.
  - Users belonging to the group `root` can read `r`, write `w`, and execute `x` on the directory.
  - Any other users can read `r`, write `w` and execute `x` on the directory

#### The last line is referring to the resource `test.txt`:
- It is saying that:
  - It it a regular file `-`
  - The user `lowpriv` can read `r`, but not execute `x` the file.
  - Users belonging to the group `lowpriv` can only read `r` the file.
  - Any other users can also read `r` the file.
 

### **Special Cases**:
- Sometime it can happen to see for the last position the value of `t` instead of the value of `x`. This is called the `sticky bit`. It permission to delete a file `write`, cannot do it as long as the sticky bit is set.
- Other times instead we see the value of `s` instead has to do with the `SUID` and `GUID` permissions.

---




## Updating File Permissions
The command that can be used for updating the permission on a giveen file is the `chmod` command.

- In this first i need to create one folder:
````
touch test.sh
ls -lh
````
<img width="630" height="246" alt="image" src="https://github.com/user-attachments/assets/f758dcbf-8daf-4bfd-a0e5-5f1cc8909856" />

- File permissions:
````
chmod +x test.sh
ls -lh
````
<img width="643" height="246" alt="image" src="https://github.com/user-attachments/assets/8a919a87-2555-424f-a5f1-1e0480545515" />

- `chmod`: change file mode (permissions).
- `+x`: add `execute` permissions.
- `chmod +x` makes your script runnable like a command.


- Now we see it has different after we do file permission:
First one:
````
-rw-r--r-- 1 lowpriv lowpriv    0 Nov 29 15:33 test.sh
````
- In first one:
  - Owner: read + write
  - Group: read only
  - Others: read only
  - It’s just a text file, not executable.



Second:
````
-rwxr-xr-x 1 lowpriv lowpriv    0 Nov 29 15:33 test.sh
````
- Second one:
  - Owner: read + write + execute
  - Group: read + execute
  - Others: read + execute
  - It’s now marked as an executable script.


### Alias
````
alias ls
````
<img width="366" height="104" alt="image" src="https://github.com/user-attachments/assets/29e947ea-2d57-4345-abb8-7730165c192e" />

````
ls --color=auto
````
<img width="816" height="103" alt="image" src="https://github.com/user-attachments/assets/50ac6622-ae96-4e37-b83a-b1b10255eecc" />


- `alias` in Linux/Unix is basically a shortcut or nickname for a command

````
ls --color=
````
<img width="432" height="180" alt="image" src="https://github.com/user-attachments/assets/ae802cda-3e7d-459e-bd43-e43c592ec019" />

- The `--color` option in the `ls` command controls whether filenames are shown with colors to indicate their type (directories, executables, symlinks, etc.).

- Valid arguments
  - `always` / `yes` / `force` → Always show colors, even if output isn’t a terminal.
  - `never` / `no` / `none` → Never show colors.
  - `auto` / `tty` / `if-tty` → Show colors only when output is a terminal (default behavior).

````
ls --color=always
ls --color=never
ls --color=auto
````
<img width="803" height="187" alt="image" src="https://github.com/user-attachments/assets/92c75a90-7296-43c5-abea-59a1e745e99c" />

- Colors help we quickly identify file types:
  - `Blue` → directories
  - `Green` → executables
  - `Red` → compressed archives
  - `Cyan` → symbolic links
  - `White/gray` → regular files

- `--color=always` → Forces color output every time, even if the output is redirected (e.g., piped to another command).
- `--color=never` → Disables colors completely, plain text only.
- `--color=auto` → Shows colors only when output is going directly to a terminal (default behavior). If you redirect  output to a file or pipe, colors won’t be shown.


````
ls -lh --color=always
````
<img width="628" height="237" alt="image" src="https://github.com/user-attachments/assets/f52d4b43-c6da-4666-8660-fdecde286ec0" />


#### pipe or redirect the output
````
ls --color=always | less
````
<img width="445" height="73" alt="image" src="https://github.com/user-attachments/assets/d0146f82-c095-4338-8755-7ec7e0bb4121" />

<img width="352" height="259" alt="image" src="https://github.com/user-attachments/assets/5d793de1-720b-4483-bef0-3ba27d85f1f7" />

- To **Exit** this press `Esc` or use `:q`.

````
ls --color=auto | less
````
<img width="243" height="213" alt="image" src="https://github.com/user-attachments/assets/002f61cd-17cd-41b5-8cae-8072ca57b84c" />


#### View colored output properly
````
ls --color=always | less -R
````
<img width="184" height="182" alt="image" src="https://github.com/user-attachments/assets/7c5344f4-ce30-4d34-992a-8fbc24425b7a" />

- The `-R` tells `less` to interpret raw ANSI codes, so colors display correctly.
---




 
### Remove read `r` and execute `x` for other users.
````
chmod o-xr test.sh
ls -lh
````
<img width="630" height="238" alt="image" src="https://github.com/user-attachments/assets/b0d53d94-0a14-4a21-855c-c328f806a8ff" />

- `o`: applies to others (everyone who is not the owner or in the group).
- `-xr`:  remove execute and read rights.
- **this command locks down the file from “others”, so only the owner and group can use it.**


### Add write (w) for group that owns the file:
````
chmod g+w test.sh
ls -lh
````
<img width="632" height="235" alt="image" src="https://github.com/user-attachments/assets/1d011365-8837-4e7f-a713-bd5f2b77576c" />

- `g`: applies to the group.
- `+w`: adds write permission.


- If we want to make a change in an entire subfolder, we have to use the recursive `R` option:
````
chmod -R o-rwx test.sh
ls -lh
````
<img width="638" height="247" alt="image" src="https://github.com/user-attachments/assets/97dc92c5-7aa4-48a1-86b9-3f019e3c3a51" />

- `-R`: recursive (applies to the file and all contents if it’s a directory).
- `o`: applies to others (everyone not owner or group).
- `-rwx`: removes read, write, and execute permissions.



- Instead of using the identifiers `ugoa` with `rwx`, it is also possible to set permissions using a sequence of three numbers. This is because read `r`, write `w` and execute `x` permissions can be represented using three bits.
- Given that with three bits we can also represent the numbers from `0` to `7`, this means that each number can represent a specific set of permissions.
- Specifically, we have the following association between bits, permissions and numbers.

#### Format:
| Symbol | Binary | Decimal | Meaning                |
| ------ | ------ | ------- | ---------------------- |
| ---    | 000    | 0       | No permissions         |
| --x    | 001    | 1       | Execute only           |
| -w-    | 010    | 2       | Write only             |
| -wx    | 011    | 3       | Write + Execute        |
| r--    | 100    | 4       | Read only              |
| r-x    | 101    | 5       | Read + Execute         |
| rw-    | 110    | 6       | Read + Write           |
| rwx    | 111    | 7       | Read + Write + Execute |


- This means for example that `5` represents the read `r` and execute `x` permission bits, while  represent the entire read `r`, write `w` and execute `x` bits.
- Remember that we have three groups of users. This means that to fully specify the basic permissions for a file we will need three numbers, each going from `0` to `7`.
---



## Changing Pemissions: **chmod** Master

### Octal (Number) Method - Most Common
#### Syntax: **chmod [octal] file_or_directory**:
- Common file permissions
````
chmod 644 file.txt           # rw-r--r-- (owner: rw, others: r)
````
<img width="633" height="247" alt="image" src="https://github.com/user-attachments/assets/00317871-9620-4421-a8b3-887faee9e833" />

- **Owner**: `rw` -> can read and write.
- **Group**: `r--` -> can read only.
- **Others**: `r--` -> can read only.

````
chmod 755 script.sh          # rwxr-xr-x (executable by all)
````
<img width="637" height="252" alt="image" src="https://github.com/user-attachments/assets/8a034a98-7e74-4e3c-a128-25d055e2e7fd" />

````
chmod 600 test.sh           # rw------- (owner only)
chmod 444 test.sh           # r--r--r-- (read only for all)
````


- Common directory permissions
In this i need to create one folder for test:
````
mkdir test
ls
````
<img width="898" height="127" alt="image" src="https://github.com/user-attachments/assets/6ced2b90-318c-4856-9587-a815ec0c8e52" />


````
chmod 755 test/        # rwxr-xr-x (standard directory)
````
<img width="623" height="262" alt="image" src="https://github.com/user-attachments/assets/74ea41f5-a9cc-4e59-8500-846428152927" />

````
chmod 700 test/       # rwx------ (owner only)
````
<img width="636" height="268" alt="image" src="https://github.com/user-attachments/assets/bec981b2-bec3-455e-a450-248b256ed8da" />

````
chmod 775 test/        # rwxrwxr-x (owner/group full, others access)
````
<img width="642" height="282" alt="image" src="https://github.com/user-attachments/assets/10eef929-13ee-4a5d-ba64-22db7dde7193" />


### Symbolic Method - Flexible:

#### Syntax: **chmod [ugoa][+-=][rwx] file_or_directory**

- User Classes:
  - `u`: user/owner
  - `g`: group
  - `o`: others
  - `a`: all (equivalent to ugo)
 
- Operators:
  -  `+`:  add permission
  -  `-`: remove permission
  -  `=`: set exactly

- Add permissions
````
chmod u+x test.sh        # Add execute for owner
````
<img width="627" height="262" alt="image" src="https://github.com/user-attachments/assets/509e787d-ada9-498e-aee5-9c95237797f8" />


- We can try others:
````
chmod g+w test.sh      # Add write for group
chmod a+r test.sh      # Add read for everyone
chmod +x test.sh           # Add execute for all (same as a+x)
````

- Remove permissions:
````
chmod o-r confidential.txt # Remove read from others
chmod go-w sensitive.file  # Remove write from group & others
chmod a-x not_script.txt   # Remove execute from everyone
````


- Set exact permissions
````
chmod u=rw,go= file1.txt    # Owner: rw, group/others: none
chmod ug=rw,o=r document   # Owner/group: rw, others: r
chmod a=rx script          # Everyone: r-x only
````














































