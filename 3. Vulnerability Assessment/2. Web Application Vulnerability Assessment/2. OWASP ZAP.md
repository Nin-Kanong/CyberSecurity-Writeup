# Web Applications Vulnerability Assessment with OWASP ZAp


## Overview




## LAB TOOLS




## Scope





## INTRODUCTION TO OWASP ZAP
What is OWASP ZAP?
 - OWASP ZAP (Zed Attack Proxy) is an open-source web application security scanner.
 - Designed to find vulnerabilities in web applications during development and testing.
 - It’s an easy-to-use tool for beginners and professionals to perform security testing




## Invironment setup
### In Windows
#### Installation
- In this i used Windows10 in VMware
<img width="674" height="363" alt="image" src="https://github.com/user-attachments/assets/c83ac0c6-95a8-44fa-8222-9e8daf481f12" />

- Go to direct link: https://www.zaproxy.org/download/
<img width="952" height="765" alt="image" src="https://github.com/user-attachments/assets/d36df139-c1fb-4262-a72c-f6542d016c8d" />

<img width="948" height="296" alt="image" src="https://github.com/user-attachments/assets/a5e324c2-f813-4c18-a400-6ffcb1f067e5" />


- And downloads Java SE
- Type this in browser: `java se runtime environment 8 downloads` or go to direct link: https://www.java.com/en/download/manual.jsp
<img width="960" height="428" alt="image" src="https://github.com/user-attachments/assets/dd0e7aa5-ed88-4a3e-9f19-da51a1025a35" />

<img width="957" height="705" alt="image" src="https://github.com/user-attachments/assets/8ad29361-d3a4-4046-86f1-ceffc9141ce4" />

<img width="871" height="763" alt="image" src="https://github.com/user-attachments/assets/ce2297e6-aa8f-4018-80fa-5186da0e786d" />

- Click on it, it will auto downloads
<img width="878" height="340" alt="image" src="https://github.com/user-attachments/assets/76976899-0e06-43e1-9bee-41ce8534b28f" />

- After it all finished downloads go to our `file` 
<img width="413" height="213" alt="image" src="https://github.com/user-attachments/assets/90b54564-6d90-42ad-97b5-d9b88a585bff" />

<img width="957" height="842" alt="image" src="https://github.com/user-attachments/assets/928d30fd-71b1-494b-ac59-1debc2e6cb21" />

- Double click on `je-8u461-Windows-x64`
<img width="453" height="336" alt="image" src="https://github.com/user-attachments/assets/e8e00097-23ca-4c70-9d73-898d37a1799f" />

<img width="692" height="382" alt="image" src="https://github.com/user-attachments/assets/88060b08-270e-44ca-b18e-3c059fead666" />

- After this wait afews minutes it will finished downlaods and click `Close`
<img width="703" height="385" alt="image" src="https://github.com/user-attachments/assets/6a1a57c5-ffe4-478b-9ab9-f86bc94ae8e5" />

-And after we finished setup `Java` go to our ``ZAP_2_16_1_windows` double click on it to :
<img width="647" height="240" alt="image" src="https://github.com/user-attachments/assets/c3860679-a283-4943-b816-0bae559030e2" />

<img width="352" height="160" alt="image" src="https://github.com/user-attachments/assets/03ed36f5-223c-463f-a0f0-dff4e3fa046f" />

-If it show this it mean our java not correct version, to fix it go to this: https://adoptium.net/

<img width="955" height="690" alt="image" src="https://github.com/user-attachments/assets/0f8cd2a5-5b53-40a7-bed0-7d26a1c29755" />

<img width="935" height="720" alt="image" src="https://github.com/user-attachments/assets/aa3fae21-8696-4d32-9456-487537aa74eb" />

- Choose `JDK 21 - LTS` or Choose `JDK 17 - LTS`  and click button `Donwloads` on windows it will downloads and wait afew minutes it will complete:
<img width="379" height="256" alt="image" src="https://github.com/user-attachments/assets/785eae4d-4b0c-4e70-9f7b-958217712bba" />

- after it finished downloaded go to `File` 
<img width="628" height="232" alt="image" src="https://github.com/user-attachments/assets/e071e894-6411-43fc-ac8d-0ddbe4854902" />

- Double click on it 
<img width="493" height="382" alt="image" src="https://github.com/user-attachments/assets/840872e9-95bb-4151-8723-90bbd3053ed5" />

<img width="492" height="387" alt="image" src="https://github.com/user-attachments/assets/bff16fbb-1a49-4a8e-857a-ee7fc69e4f46" />

<img width="496" height="383" alt="image" src="https://github.com/user-attachments/assets/a9cb2c87-ebde-4006-afd6-437df5fcc807" />

<img width="491" height="387" alt="image" src="https://github.com/user-attachments/assets/47017951-1fd5-4dfe-803a-4ac01dd8d5b3" />

<img width="495" height="386" alt="image" src="https://github.com/user-attachments/assets/515e1469-0695-4bab-934d-3bde2128946b" />

- After we finished, wait it afew minutes and it will show this:
<img width="452" height="335" alt="image" src="https://github.com/user-attachments/assets/a201a73c-7ff9-4a72-af47-c541675284cb" />

<img width="492" height="391" alt="image" src="https://github.com/user-attachments/assets/54e3c370-b385-4075-a866-97b0da326615" />

- After we finished installed it. Go to our `ZAP` file and double click on it 
<img width="690" height="493" alt="image" src="https://github.com/user-attachments/assets/7353ea9e-7d9e-4b4b-bdfa-66adfdc4f017" />

<img width="460" height="350" alt="image" src="https://github.com/user-attachments/assets/7104670e-f3b2-4a7a-b0ad-eb582e4dc59d" />

<img width="496" height="422" alt="image" src="https://github.com/user-attachments/assets/edb7af29-261b-417f-afff-0a4a08a3c41a" />

<img width="496" height="423" alt="image" src="https://github.com/user-attachments/assets/727154ea-8ecd-47d4-b914-e6c9d22007e0" />

<img width="497" height="425" alt="image" src="https://github.com/user-attachments/assets/cfa278ee-4f3c-4bc5-a2db-5ea6eb7bd6b4" />

<img width="498" height="421" alt="image" src="https://github.com/user-attachments/assets/ba51387d-1dbd-43eb-a512-84d7e9a912e8" />

- After we finished it just wait afews minutes it will finished install and click `Finish`:
<img width="501" height="422" alt="image" src="https://github.com/user-attachments/assets/cd5a9282-7c42-4f83-97e4-32daaa370acb" />

- We see we got `ZAP 2.16.1`
<img width="607" height="646" alt="image" src="https://github.com/user-attachments/assets/906ae6e2-e3a6-4e17-a1b5-204d4105ac16" />

- And double click on it and wait 
<img width="430" height="463" alt="image" src="https://github.com/user-attachments/assets/61a3c844-2fb4-4e01-b9a0-ebeb7f214080" />

<img width="785" height="588" alt="image" src="https://github.com/user-attachments/assets/05d513ea-ba98-4c06-b1d5-9e259c54e8a0" />

- We see we can use OWASP ZAP 
<img width="957" height="800" alt="image" src="https://github.com/user-attachments/assets/14a71152-d50a-4177-9cf2-a5ff7afd98ac" />


### ZAP Installing Dynamic SSL Certicate
<img width="963" height="722" alt="image" src="https://github.com/user-attachments/assets/695bf17c-481b-438b-ad4e-32dd6e074fa9" />

<img width="738" height="576" alt="image" src="https://github.com/user-attachments/assets/b591a27f-62ee-4612-8536-d9f78990274b" />

- In this we should not to install `Dynamic SSL certicate` but we should install ` ZAP’s Root CA Certificate`, so In browser go to: http://localhost:8080/
- Click: "Download root certificate"
<img width="960" height="667" alt="image" src="https://github.com/user-attachments/assets/9b62f705-4db0-49bb-bca1-a8a1c55ac0af" />

<img width="958" height="588" alt="image" src="https://github.com/user-attachments/assets/3827a180-d308-4710-bb70-36f537a318ae" />

<img width="672" height="731" alt="image" src="https://github.com/user-attachments/assets/491f34aa-939e-4344-bf21-42da39c3b539" />

<img width="870" height="631" alt="image" src="https://github.com/user-attachments/assets/e5950512-7a42-4414-b76b-97d81345a2d6" />

<img width="862" height="582" alt="image" src="https://github.com/user-attachments/assets/058a7965-3302-4e2b-8cc0-b351b1677df1" />

<img width="893" height="586" alt="image" src="https://github.com/user-attachments/assets/fe6216d6-93f1-4c85-af48-e387e99eac05" />

<img width="952" height="498" alt="image" src="https://github.com/user-attachments/assets/6818a807-e594-448b-84fe-8b52ca2a2ab6" />

<img width="948" height="713" alt="image" src="https://github.com/user-attachments/assets/510255a3-9dc8-43d3-8353-d7fc3f312e3f" />

<img width="604" height="468" alt="image" src="https://github.com/user-attachments/assets/a6c40e8f-7f7c-4bbb-8b4b-89a0d82cb85c" />

<img width="608" height="466" alt="image" src="https://github.com/user-attachments/assets/c0ce2e81-8f02-4e02-bf08-251ec51c80ab" />


#### Or in firefox
- In browser type this: http://localhost:8080/
<img width="931" height="627" alt="image" src="https://github.com/user-attachments/assets/28138204-3984-4163-9ea5-9d04b7923ce5" />

<img width="928" height="776" alt="image" src="https://github.com/user-attachments/assets/e01e181f-3c6a-48a5-bbf7-d2057ef7716c" />

<img width="922" height="753" alt="image" src="https://github.com/user-attachments/assets/4df618c4-66bc-496a-aca8-461985a641e2" />

<img width="592" height="422" alt="image" src="https://github.com/user-attachments/assets/72110c32-2d14-4fa2-a594-80d34ab72c92" />

<img width="612" height="473" alt="image" src="https://github.com/user-attachments/assets/6e872a19-98e3-4dfe-917b-d33b0a363161" />

<img width="652" height="272" alt="image" src="https://github.com/user-attachments/assets/39b8c92d-916b-46e3-b559-bae666b32384" />

<img width="588" height="422" alt="image" src="https://github.com/user-attachments/assets/98355dc4-ce7e-470a-9ab8-090a061552a7" />

- We finished Install and setup `SSL Certificate`




#### Proxy Web Traffic through OWASP ZAp
<img width="452" height="338" alt="image" src="https://github.com/user-attachments/assets/d404368e-f50e-4ce9-8a48-4d6dded96e59" />

<img width="850" height="777" alt="image" src="https://github.com/user-attachments/assets/0d589875-d8da-4f43-91e0-3bd8eb605941" />

<img width="882" height="735" alt="image" src="https://github.com/user-attachments/assets/29f867b5-f5bd-492a-950f-df634b410d8e" />

<img width="676" height="651" alt="image" src="https://github.com/user-attachments/assets/9d800503-0158-44c8-8e6d-4c296abf8bbf" />


- Go to some website like: http://192.168.100.97:8080/login.php
<img width="907" height="705" alt="image" src="https://github.com/user-attachments/assets/6f3fb538-8e16-42b9-a722-07ac5ad65c58" />

- and go to our ZAP 
<img width="960" height="806" alt="image" src="https://github.com/user-attachments/assets/69fc8e08-fb5d-44bf-95eb-4e4324582b03" />


#### Configuring FoxyProxy with ZAP
- Go direct link: https://addons.mozilla.org/en-US/firefox/addon/foxyproxy-standard/
<img width="960" height="806" alt="image" src="https://github.com/user-attachments/assets/f125d783-f441-46a1-b125-80860e40463c" />

<img width="887" height="488" alt="image" src="https://github.com/user-attachments/assets/2db1913e-a2f7-40e0-9902-2477d4c252e9" />

<img width="385" height="290" alt="image" src="https://github.com/user-attachments/assets/d9a705f5-f6b6-406b-8af9-f33b89df629c" />

<img width="411" height="195" alt="image" src="https://github.com/user-attachments/assets/794f969b-2372-42ae-b2f2-d474d065f902" />

<img width="847" height="771" alt="image" src="https://github.com/user-attachments/assets/22fad6b6-8c06-4516-bfe4-9cf621bf7737" />

<img width="896" height="542" alt="image" src="https://github.com/user-attachments/assets/09a5db26-f265-492e-ba3c-718ae100f10b" />

<img width="960" height="241" alt="image" src="https://github.com/user-attachments/assets/b79d3236-2bbe-43cd-a215-effab83a743a" />

<img width="953" height="497" alt="image" src="https://github.com/user-attachments/assets/80cb2bdc-a98d-4e55-b787-017789143260" />

<img width="937" height="497" alt="image" src="https://github.com/user-attachments/assets/2f2e91c4-a4b2-4f2c-b4fe-c1b5b68d0606" />

<img width="928" height="670" alt="image" src="https://github.com/user-attachments/assets/eeb87eb4-27a5-47c9-9c07-b355870a3154" />

<img width="942" height="538" alt="image" src="https://github.com/user-attachments/assets/9814ea94-0daa-4c54-a5ea-38c0d442d6c0" />

````
Username: admin
Password: password
````
- After click `Login` and go back to our ZAP 
<img width="957" height="641" alt="image" src="https://github.com/user-attachments/assets/01f702a1-da36-4df7-a7a0-f30b55e615c4" />





#### Installing Pen Test Demo Application Mutillidiae
- In this i used `mutillidae` in my docker in my local machine
````
docker run -d -p 9090:80 --name mutillidae citizenstig/nowasp
````
<img width="1472" height="556" alt="image" src="https://github.com/user-attachments/assets/64f6f988-cd30-4420-ae49-56723d27db2c" />

- Just press `Enter` and wait it to push into docker wait it a fews minutes.
- But in this i already setup it in my docker
<img width="1917" height="971" alt="image" src="https://github.com/user-attachments/assets/c8b6ceae-6c24-4afa-8d4f-3e076992244e" />

- After we finished install `mutillidae`. In browser type: http://localhost:9090/database-offline.php
- Or if i test it with ZAP in Windows on VMware: http://192.168.100.97:9090/database-offline.php
<img width="712" height="595" alt="image" src="https://github.com/user-attachments/assets/32afd20d-f23f-4c03-839c-c1e5362de145" />

- After this we will see: 
<img width="955" height="758" alt="image" src="https://github.com/user-attachments/assets/e6f352eb-5e09-4694-afd6-5cb059637355" />




#### Intercepting Requests with OWASP ZAP
- Go to Browser(FireFox) 
<img width="363" height="382" alt="image" src="https://github.com/user-attachments/assets/b03baa50-fec0-44c7-a408-7a6a7503e985" />

- And type this in browser: http://192.168.100.92:9090/
<img width="965" height="813" alt="image" src="https://github.com/user-attachments/assets/a4e60eed-7234-416f-8171-d3ad31af4422" />

<img width="951" height="697" alt="image" src="https://github.com/user-attachments/assets/f519bdb3-ea02-42d7-966d-b7fa9b3de9a5" />

<img width="950" height="662" alt="image" src="https://github.com/user-attachments/assets/7c4c6dcd-9cde-4d1a-b2da-d20305a5e5fc" />

<img width="959" height="668" alt="image" src="https://github.com/user-attachments/assets/4313e0f5-8410-4bdd-82df-8af585225268" />

````
Username: admin
Passowrd: adminpass
````
- After we login we will see:
<img width="961" height="678" alt="image" src="https://github.com/user-attachments/assets/19252650-67f2-4870-a01b-4b93d8b4b734" />

<img width="960" height="606" alt="image" src="https://github.com/user-attachments/assets/4ec3604a-3378-4736-9dff-a9681f3d3f2e" />

- If we want to see it details go to button `Request`
<img width="960" height="712" alt="image" src="https://github.com/user-attachments/assets/48087855-ae81-4fcc-95d2-1c608db1324c" />

“POST” is the HTTP method used to send data to a server — typically for submitting forms, uploading files, or creating new resources. 

##### Why POST Instead of GET?
- GET → Used to request data (e.g., loading a page)
- POST → Used to send data (e.g., logging in, submitting a comment)




#### intercecpting specific Requests with OWASP ZAP
- Login again
````
Username: admin
Password: adminpass
````
<img width="957" height="658" alt="image" src="https://github.com/user-attachments/assets/f03f0ac7-9aaf-4874-8b2c-d431c5e46350" />

- In our `ZAP` we will see:
<img width="961" height="787" alt="image" src="https://github.com/user-attachments/assets/a35d27dd-e9f2-4bfb-9d5b-781e1deca27a" />

<img width="1037" height="736" alt="image" src="https://github.com/user-attachments/assets/2e69302f-3c8a-458b-8064-ba749c976f7b" />

- After this we will see:
<img width="953" height="550" alt="image" src="https://github.com/user-attachments/assets/647e36b5-939d-4c64-b9d6-5d0d00a75513" />

- In our `ZAP`
<img width="964" height="727" alt="image" src="https://github.com/user-attachments/assets/f4e474a2-fcb2-4dce-a83a-1cfbb36e039b" />

-Right click and choose `Show in site Tab`
<img width="957" height="727" alt="image" src="https://github.com/user-attachments/assets/d5072cb8-ee1f-44ae-9eb8-ff59772f74f1" />

- highly in `GET:index.php(page)` and after right click on it and select `Break`
<img width="962" height="791" alt="image" src="https://github.com/user-attachments/assets/ce819ad6-e9d9-463c-ada8-e64a7c5edd13" />

<img width="391" height="247" alt="image" src="https://github.com/user-attachments/assets/1d48474e-7d41-488a-96ee-521c1b3e8285" />

- Delete in highly and save this click `Save`
<img width="392" height="248" alt="image" src="https://github.com/user-attachments/assets/6d278223-aa9b-4c13-bf61-03b4de5fd699" />

- Itshow this:
<img width="959" height="573" alt="image" src="https://github.com/user-attachments/assets/a68d451d-e594-4df8-b8eb-4035ef3099ae" />

<img width="1275" height="881" alt="image" src="https://github.com/user-attachments/assets/e2c53c39-f3fc-4e55-82f7-cd0316c39ba0" />

- It will show this and clck on `Toggle security`:
<img width="952" height="618" alt="image" src="https://github.com/user-attachments/assets/283a8ab8-25e3-499d-b4ab-7d691e43ae79" />

<img width="957" height="779" alt="image" src="https://github.com/user-attachments/assets/3b1aaa6d-59e8-4ccb-b61a-da42dbc4884a" />

Do this again and we will see it waiting
<img width="1057" height="853" alt="image" src="https://github.com/user-attachments/assets/4349045a-c39a-487d-aa12-5d9c648f8935" />

- Click on button `Summit`
<img width="958" height="698" alt="image" src="https://github.com/user-attachments/assets/98b52020-8c4d-404d-8d03-d206394410e5" />

- After click button `Continue`
<img width="961" height="686" alt="image" src="https://github.com/user-attachments/assets/15731664-fea0-43fb-904f-db862d46d2b0" />

- And in browser we will see:
<img width="957" height="737" alt="image" src="https://github.com/user-attachments/assets/286f75af-100d-461f-97c8-5230f23312ea" />

<img width="962" height="593" alt="image" src="https://github.com/user-attachments/assets/98f89844-c8e8-4c4a-a67d-91a87f2d6f4b" />

- Double click on it.
<img width="390" height="249" alt="image" src="https://github.com/user-attachments/assets/3e7da7c3-43a6-418d-85b5-c3d918b84caa" />

<img width="952" height="621" alt="image" src="https://github.com/user-attachments/assets/d116b0cd-aaca-4e23-839c-e9b2ee50b4f2" />

<img width="962" height="776" alt="image" src="https://github.com/user-attachments/assets/78a780ac-d38d-4eb7-98a2-296c9756729a" />

<img width="962" height="616" alt="image" src="https://github.com/user-attachments/assets/7d8527c8-36da-4581-9a44-a4f2046f9b3d" />

- Nad click button `Continue` again:
<img width="962" height="552" alt="image" src="https://github.com/user-attachments/assets/fbbd05b9-5a95-481c-a4a7-fd31b155599b" />

- In browser we will see:
<img width="958" height="778" alt="image" src="https://github.com/user-attachments/assets/731e7275-dd54-47b9-8da6-4785162a95d6" />





#### Manual Explore For vulnerability assessment in OWASP ZAP
- After we open our `ZAP` let click on `Manual Explore`
<img width="961" height="716" alt="image" src="https://github.com/user-attachments/assets/bddb186e-f1a3-4db7-a312-7d71d65fc4f2" />

- After this input `URL` and choose `Browser` and click `Launch Browser`
<img width="960" height="776" alt="image" src="https://github.com/user-attachments/assets/8d0e3a8d-6989-47e9-aa97-6d6b62780ef8" />

- In this i used with `edge`
<img width="961" height="787" alt="image" src="https://github.com/user-attachments/assets/bd139b6b-bcd8-4103-8533-3cd15d54ce99" />

- and it show this:
<img width="928" height="760" alt="image" src="https://github.com/user-attachments/assets/aad38898-4a97-44f3-9040-575928e74bce" />

<img width="1280" height="826" alt="image" src="https://github.com/user-attachments/assets/2fcd223b-b62f-41d3-8753-b4259f2f1bf3" />

<img width="1073" height="813" alt="image" src="https://github.com/user-attachments/assets/0529453d-45be-4a57-8dfa-62169b650385" />

- In this we have 24 alerts detected. These are potential security issues.
     - Cross-Domain Misconfiguration
     - Missing Security Headers
     - Vulnerable JS Libraries
     - Cookie Issues
     - Server Information Leaks





#### Spidering a Website with OWASP ZAP
##### Spidering 
- Manual Explore very effective but needs someone to sit there and click throught
- Spidering allows you to launch an automated scan againt an application
- Spider explores by finding links in HTML pages
- It begins with set of URLs called seeds
- The spider then visits these URLs, identifies all the hyperlinks in the page
- Adds them to the list of URLs to visit
- The process continues secursively as long as new resource are found.

<img width="1035" height="842" alt="image" src="https://github.com/user-attachments/assets/654d4bda-5a02-4902-97bc-9f4fa49837d9" />

<img width="1077" height="643" alt="image" src="https://github.com/user-attachments/assets/0ad20329-2188-439a-bda1-8c9779e96b54" />

<img width="698" height="461" alt="image" src="https://github.com/user-attachments/assets/87b86ff3-3eaa-41cc-931f-f725df5385bd" />

- After we click `Start scan` it will scan:
<img width="1069" height="822" alt="image" src="https://github.com/user-attachments/assets/0d4da4f2-5495-4d50-a042-9f9f32a83305" />

- After it finished we found URLs : 2890  and Nodes Addes: 778
<img width="1077" height="838" alt="image" src="https://github.com/user-attachments/assets/71439835-b6c8-4f2c-9c97-918b9391ac87" />

<img width="1081" height="822" alt="image" src="https://github.com/user-attachments/assets/7c875c7e-3c07-4b6a-b087-5ae97e694b10" />

<img width="1073" height="825" alt="image" src="https://github.com/user-attachments/assets/a2ecc0ab-c053-42cd-93c9-e313ba6a74cb" />

<img width="1092" height="845" alt="image" src="https://github.com/user-attachments/assets/57bd5769-bbfa-416b-b6a3-e5b793d8954f" />

<img width="702" height="463" alt="image" src="https://github.com/user-attachments/assets/28da36c7-a47c-4adb-bfc3-db33eb64fbb9" />

<img width="697" height="453" alt="image" src="https://github.com/user-attachments/assets/71f79a5e-7ecc-4552-a021-7856a4b873ec" />

<img width="698" height="456" alt="image" src="https://github.com/user-attachments/assets/d40540fe-3195-4ef5-b226-3d5420e2866e" />

<img width="1075" height="827" alt="image" src="https://github.com/user-attachments/assets/015e3dc6-37e8-4fa9-b7e6-97dbcd0c8196" />


- We can also scan folder: 
<img width="1077" height="821" alt="image" src="https://github.com/user-attachments/assets/418d869c-c3f7-4bf0-8fb1-f0795e0fc880" />

<img width="702" height="452" alt="image" src="https://github.com/user-attachments/assets/6ac7d5ea-4315-4271-b199-68d839305366" />

<img width="1076" height="837" alt="image" src="https://github.com/user-attachments/assets/bb26f94f-5dab-48ec-839b-8b6fb439bdb1" />



#### Automated Vulnerability Assessment of a single in ZAP
##### Caution
It is very important to note that you should only use ZAP on your own applications or the ones you have permission test.

- After we open our `ZAP` 

































































